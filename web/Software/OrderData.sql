--cartStatus: 0: pending
--cartStatus: 1: pay
--cartStatus: 2: shipping
--cartStatus: 3: refund
insert into Account(userName, userPassword, userRole, accountState) values
('103523552634130082555','$2a$12$JYCtUij8D/PKm8F7LfzduugVbeKp/U.VEVvsmdzxFcjpJmVqDSOj2',0 ,1),
('103596416254410308707','$2a$12$QwLsqkKHdy3gyRMXkgVUseNsNM./NoCQ6oc9V1H56dtoIzXUH8PZq',0,1),
('3153571338259308','$2a$12$QoFoNgg6vR6omhp1yWcSW.AbPk4p2ge2d/NSSbqg3hMWA7To5tBze',0,1),
('quang3','$2a$12$aKYwVOIUAqBEoPOIygkSAOjaDbYHQH6qWJsFR9eEJrQOckHK8/0T6',0,1),
('trang','$2a$12$gjCT7SeqOnOi09c6u0IlEOAa5JC51fSQ.bMinUjCmtVcLyGWGHUFS',0,1),
('trang2','$2a$12$Kfls.UJsygvBt/T0CveSGe7tqVLND.BPyJecK6HjF2XwK8Goj/F/m',0,1)

insert into Cart values
('khoi',null,null,'2022-03-25','2022-03-27',1,238),
('quang',null,null,'2022-03-19','2022-03-24',1,154),
('phuc',null,null,'2022-03-17',null,2,192),
('nhi',null,null,null,null,0,null),
('minh',null,null,'2022-04-11','2022-04-15',3,354),
('khoi',null,null,'2022-03-24',null,1,234),
('nhi',null,null,'2022-03-19',null,1,124),
('khoi',null,null,'2022-03-23',null,2,192),
('khoi',null,null,'2022-04-22',null,3,112),
('khoi',null,null,'2022-04-21',null,2,127),
('khoi',null,null,'2022-04-20',null,2,124),


('quang',null,null,'2022-03-18',null,1,102),
('quang',null,null,'2022-03-17',null,2,192),
('quang',null,null,'2022-03-16',null,3,98),
('quang',null,null,'2022-03-15',null,2,123),

('quang',null,null,'2022-04-14',null,1,215),
('quang',null,null,'2022-04-13',null,1,632),
('quang',null,null,'2022-03-12',null,1,142),
('quang',null,null,'2022-03-11',null,1,98),
('quang',null,null,'2022-03-10',null,2,265),

('quang',null,null,'2022-03-9',null,1,233),
('quang',null,null,'2022-03-8',null,1,243),
('quang',null,null,'2022-03-7',null,1,245),
('quang',null,null,'2022-04-6',null,3,236),
('quang',null,null,'2022-04-5',null,2,24),

('phuc',null,null,'2022-03-19',null,1,254),
('phuc',null,null,'2022-03-18',null,1,102),

('phuc',null,null,'2022-03-16',null,1,98),
('phuc',null,null,'2022-03-15',null,2,123),

('phuc',null,null,'2022-03-28',null,1,654),
('phuc',null,null,'2022-03-29',null,1,102),

('phuc',null,null,'2022-03-30',null,1,98),
('phuc',null,null,'2022-03-31',null,1,123),

('phuc',null,null,'2022-03-17',null,2,154),
('phuc',null,null,'2022-04-16',null,1,133),
('phuc',null,null,'2022-03-15',null,1,212),

('nhi',null,null,'2022-03-19',null,1,124),
('nhi',null,null,'2022-04-18',null,1,162),
('nhi',null,null,'2022-03-17',null,2,134),
('nhi',null,null,'2022-03-16',null,3,100),
('nhi',null,null,'2022-03-15',null,1,324),

('minh',null,null,'2022-03-19',null,1,12),
('minh',null,null,'2022-03-18',null,1,22),
('minh',null,null,'2022-03-17',null,2,32),
('minh',null,null,'2022-03-16',null,3,67),
('minh',null,null,'2022-04-15',null,2,886),

('minh',null,null,'2022-04-28',null,1,12),
('minh',null,null,'2022-04-29',null,1,202),
('minh',null,null,'2022-04-30',null,1,32),

('minh',null,null,'2022-03-9',null,1,634),
('minh',null,null,'2022-04-8',null,1,721),
('minh',null,null,'2022-03-7',null,2,123),
('minh',null,null,'2022-03-6',null,2,211),

('103523552634130082555',null,null,'2022-03-5',null,1,12),
('103523552634130082555',null,null,'2022-03-4',null,1,202),
('103523552634130082555',null,null,'2022-04-5',null,1,324),
('103523552634130082555',null,null,'2022-04-6',null,1,127),
('103523552634130082555',null,null,'2022-04-7',null,1,234),
('103523552634130082555',null,null,'2022-04-10',null,1,127),
('103523552634130082555',null,null,'2022-04-11',null,1,234),

('103596416254410308707',null,null,'2022-03-6',null,1,242),
('103596416254410308707',null,null,'2022-03-5',null,1,253),
('103596416254410308707',null,null,'2022-04-4',null,2,321),
('103596416254410308707',null,null,'2022-03-3',null,3,142),
('103596416254410308707',null,null,'2022-03-2',null,2,167),

('3153571338259308',null,null,'2022-04-1',null,1,536),
('3153571338259308',null,null,'2022-04-2',null,1,638),
('3153571338259308',null,null,'2022-03-6',null,2,485),
('3153571338259308',null,null,'2022-03-5',null,3,236),
('3153571338259308',null,null,'2022-03-4',null,2,127),

('quang3',null,null,'2022-04-20',null,1,123),
('quang3',null,null,'2022-04-21',null,1,112),
('quang3',null,null,'2022-04-22',null,2,12),
('quang3',null,null,'2022-04-23',null,3,48),
('quang3',null,null,'2022-04-24',null,2,98),

('trang',null,null,'2022-04-25',null,1,924),
('trang',null,null,'2022-04-26',null,1,124),
('trang',null,null,'2022-04-27',null,2,112),
('trang',null,null,'2022-04-28',null,3,236),
('trang',null,null,'2022-04-29',null,1,236),
('trang',null,null,'2022-04-30',null,1,936),

('trang2',null,null,'2022-03-25',null,1,124),
('trang2',null,null,'2022-03-26',null,1,212),
('trang2',null,null,'2022-03-27',null,2,324),
('trang2',null,null,'2022-03-28',null,3,21),
('trang2',null,null,'2022-03-29',null,2,42),

('103523552634130082555',null,null,'2022-03-3',null,1,324),
('103523552634130082555',null,null,'2022-03-2',null,1,127),
('103523552634130082555',null,null,'2022-03-1',null,1,234)


select * from Cart
select * from Account

delete from Cart

select *
from Account
where DATEDIFF(day, userCreateDate, GETDATE()) < 60

select sum(totalPrice) as 'Total Income'
from Cart
where cartStatus = 1


	select top 5 b.userFullname, count(*) as 'Total Orders', sum(totalPrice) as 'Total Spending'
	from Cart a
	INNER JOIN Account b
	on a.userName = b.userName
	where cartStatus = 1
	group by b.userFullname
	order by [Total Spending] desc
	

select top 5 a.cartID, b.userFullname, a.couponID, a.paymentMethodID, a.paymentDate, a.deliverDate, a.cartStatus, a.totalPrice
from Cart a
INNER JOIN Account b
on a.userName = b.userName

select *
from Cart
where cartStatus = 1 and (Day(paymentDate) >= 1 and Day(paymentDate) <= 3) and Month(paymentDate) = Month(getDate()) - 1  and Year(paymentDate) = Year(getDate())
order by paymentDate


select sum(totalPrice) as 'This Month Day 1 to 3'
from Cart
where cartStatus = 1 and (Day(paymentDate) >= 25 and Day(paymentDate) <= 28) and Month(paymentDate) = Month(getDate())  and Year(paymentDate) = Year(getDate())





